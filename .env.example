# Git autopull configuration (used by: bot, worker, worker2)
GIT_REPO_PATH=.
GIT_REMOTE=origin
GIT_BRANCH=main

# Entrypoint configuration (used by: bot, worker, worker2)
SERVICE_MODE=bot

# Network ports (used by: bot for HTTP + health, worker/worker2 for health)
HTTP_PORT=3028
HEALTH_PORT=3001

# Command event logging (used by: bot)
# 0 = disabled (default), 1 = enabled
LOG_COMMAND_EVENTS=0

# Shared health checker configuration (used by: bot, worker, worker2)
HEALTH_CHECK_INTERVAL_MS=20000
HEALTH_CHECK_TIMEOUT_MS=2500
# Status check configuration (for on-demand health checks; used by: bot, worker, worker2)
STATUS_CHECK_TIMEOUT_MS=1500
STATUS_CHECK_RETRIES=1

# Bot service configuration (used by: bot)
BOT_RATE_LIMIT=5
BOT_RATE_WINDOW_SEC=10
BOT_QUEUE_NAME=jobs:main
BOT_MAX_LOAD1=2.0
BOT_CHECK_URLS=http://example-host-1:25230/healthz,http://example-host-2:24661/healthz
# Worker base URLs (used by: bot)
WORKER1_URL=http://zac.hidencloud.com:24661
WORKER2_URL=http://june.hidencloud.com:25230
# Bot health endpoint (used by: worker, worker2)
BOT_HEALTH_URL=http://example-bot-host:3001/healthz

# Discord configuration (used by: bot)
DISCORD_TOKEN=your_discord_token_here
DISCORD_APP_ID=your_discord_app_id_here
# Optional: set if your commands use a single guild ID
DISCORD_GUILD_ID=your_guild_id_here

# Worker service configuration (used by: worker)
WORKER_QUEUE_NAME=jobs:worker
WORKER_DEAD_LETTER_QUEUE=jobs:dead-letter
WORKER_MAX_ATTEMPTS=5
WORKER_IDEMPOTENCY_TTL_SEC=86400
WORKER_BACKOFF_BASE_MS=500
WORKER_BOT_HEALTH_URL=http://127.0.0.1:3001/healthz

# Worker2 service configuration (used by: worker2)
WORKER2_QUEUE_NAME=jobs:worker2
WORKER2_DEAD_LETTER_QUEUE=jobs:dead-letter
WORKER2_MAX_ATTEMPTS=5
WORKER2_IDEMPOTENCY_TTL_SEC=86400
WORKER2_BACKOFF_BASE_MS=500
WORKER2_BOT_HEALTH_URL=http://127.0.0.1:3001/healthz

# Redis configuration (used by: bot, worker, worker2)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_TLS=false
REDIS_TLS_REJECT_UNAUTHORIZED=true
REDIS_CA_PATH=
REDIS_CONNECT_TIMEOUT_MS=10000
REDIS_ENABLE_READY_CHECK=true
REDIS_ENABLE_OFFLINE_QUEUE=false
REDIS_LAZY_CONNECT=true
REDIS_MAX_RETRIES_PER_REQUEST=5
REDIS_RETRY_MAX_ATTEMPT=8
REDIS_RETRY_BASE_DELAY_MS=250
REDIS_RETRY_JITTER_MS=250
REDIS_RETRY_MAX_DELAY_MS=30000

# Postgres configuration (used by: worker, worker2; optional health checks by: bot)
PG_HOST=localhost
PG_PORT=5432
PG_USER=postgres
PG_PASSWORD=postgres
PG_DATABASE=project
PG_POOL_MAX=10
PG_IDLE_TIMEOUT_MS=30000
PG_SSL_REJECT_UNAUTHORIZED=true
PG_CA_PATH=
# PG_QUERY_MAX_RETRIES defaults to unlimited retries when unset.
# Accepted values for unlimited: unlimited, infinite, Infinity, -1 (case-insensitive).
PG_QUERY_MAX_RETRIES=3
PG_QUERY_BASE_DELAY_MS=500
PG_QUERY_MAX_DELAY_MS=5000
